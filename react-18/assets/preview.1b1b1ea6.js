import{C as O,w as f,l as b,S as L,q as k}from"./iframe.aa79f52d.js";function A(){var t={setHandler:function(){},send:function(){}};return new O({transport:t})}var p;(function(t){t.TAB="tab",t.PANEL="panel",t.TOOL="tool",t.TOOLEXTRA="toolextra",t.PREVIEW="preview",t.NOTES_ELEMENT="notes-element"})(p||(p={}));function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var N=S(function t(){var e=this;T(this,t),this.loaders={},this.elements={},this.config={},this.channel=void 0,this.serverChannel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){return e.channel||e.setChannel(A()),e.channel},this.getServerChannel=function(){if(!e.serverChannel)throw new Error("Accessing non-existent serverChannel");return e.serverChannel},this.ready=function(){return e.promise},this.hasChannel=function(){return!!e.channel},this.hasServerChannel=function(){return!!e.serverChannel},this.setChannel=function(n){e.channel=n,e.resolve()},this.setServerChannel=function(n){e.serverChannel=n},this.getElements=function(n){return e.elements[n]||(e.elements[n]={}),e.elements[n]},this.addPanel=function(n,r){e.add(n,Object.assign({type:p.PANEL},r))},this.add=function(n,r){var s=r.type,o=e.getElements(s);o[n]=Object.assign({id:n},r)},this.setConfig=function(n){Object.assign(e.config,n)},this.getConfig=function(){return e.config},this.register=function(n,r){e.loaders[n]&&b.warn("".concat(n," was loaded twice, this could have bad side-effects")),e.loaders[n]=r},this.loadAddons=function(n){Object.values(e.loaders).forEach(function(r){return r(n)})},this.promise=new Promise(function(n){e.resolve=function(){return n(e.getChannel())}})}),m="__STORYBOOK_ADDONS";function P(){return f[m]||(f[m]=new N),f[m]}var w=P(),y=function(e){var n=e.name,r=e.parameterName,s=e.wrapper,o=e.skipIfNoParametersOrOptions,u=o===void 0?!1:o,d=function(a){return function(i,l){var c=l.parameters&&l.parameters[r];return c&&c.disable||u&&!a&&!c?i(l):s(i,l,{options:a,parameters:c})}};return function(){for(var v=arguments.length,a=new Array(v),i=0;i<v;i++)a[i]=arguments[i];return typeof a[0]=="function"?d().apply(void 0,a):function(){if(arguments.length>1)return a.length>1?d(a).apply(void 0,arguments):d.apply(void 0,a).apply(void 0,arguments);throw new Error("Passing stories directly into ".concat(n,`() is not allowed,
        instead use addDecorator(`).concat(n,") and pass options with the '").concat(r,"' parameter"))}}},D="links",C=f.document,_=f.HTMLElement,j=function(e){return w.getChannel().emit(k,e)},E=function(e){var n=e.target;if(n instanceof _){var r=n,s=r.dataset,o=s.sbKind,u=s.sbStory;(o||u)&&(e.preventDefault(),j({kind:o,story:u}))}},h=!1,R=function(){h||(h=!0,C.addEventListener("click",E))},H=function(){h&&(h=!1,C.removeEventListener("click",E))},Y=y({name:"withLinks",parameterName:D,wrapper:function(e,n){return R(),w.getChannel().once(L,H),e(n)}});module&&module.hot&&module.hot.decline&&module.hot.decline();var K=[Y];export{K as decorators};
//# sourceMappingURL=preview.1b1b1ea6.js.map
